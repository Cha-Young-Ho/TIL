# 네트워크 계층 모델

* TCP/IP
* OSI 7 Layer

# TCP/IP 모델

* 4계층 : 응용

* 3계층 : 전송

* 2계층 : 네트워크

* 1계층 : 네트워크 인터페이스

# OSI 7 Layer

* 7계층 : 응용(HTTP, SMTP, POP, FTP, SSH 등등)

* 6계층 : 표현(SMB, AFP, XDR)

* 5계층 : 세션(NetBIOS)

* 4계층 : 전송(TCP, UDP)

* 3계층 : 네트워크(IP, ICMP, ARP)

* 2계층 : 데이터 링크(이더넷, 무선랜, 토큰링)

* 1계층 : 물리(전선, 전파, 광섬유, 모뎀)

> **물데네전세표응** 이라고 외우곤 한다.. ㅋㅋ

# TCP/IP vs OSI 7 Layer

## 공통점
* 계층적 네트워크 모델

* 계층간 역할 정의

## 차이점
* 계층 수의 차이

* OSI는 역할 기반, TCP/IP는 프로토콜 기반

* OSI는 통신 전반에 대한 표준

* TCP/IP는 데이터 전송기술 특화

> 실제 운용되는 프로토콜(http)을 살펴보면 하나의 프로토콜에 OSI 7 Layer의 응용, 표현, 세션을 다 포함하고 있다.

# 패킷

> 패킷이란 네트워크 상에서 전달되는 데이터를 통칭하는 말로 네트워크에서 전달되는 데이터의 형식화된 블록이다. 패킷은 제어 정보와 사용자 데이터로 이루어지며 사용자 데이터는 **페이로드**라고도 한다.

패킷 프로토콜에도 순서가 있다. 한마디로 여러 번 포장된 택배 상자를 말한다.(포장에도 순서가 있다.)

## 패킷 캡슐화

* Header

* Payload

* Footer

다음 그림을 보자.

그림을 보면 데이터라는 "**페이로드**"를 TCP라는 "**헤더**"를 붙여서 캡슐화 한 것을 볼 수 있다.

이러한 과정을 여러번 반복하여 패킷을 생성한다.

> 실제로 살펴보면 상위 계층부터 하위 계층 순서로 캡슐화를 진행한다.

## 패킷 디캡슐화

> 패킷을 받았을 때 프로토콜들을 하나씩 확인하면서 데이터를 확인하는 과정을 말한다.

다음 그림처럼 진행된다.

## PDU

> 위의 그림에서 header가 여러개가 붙어가면서 최종적인 패킷이 완성되는 것을 볼 수 있다. 각 header가 붙을 떄 마다 불리는 이름이 다르다.

* TCP + 데이터 : 세그먼트

* IPv4 + TCP + 데이터 : 패킷

* Ethernet + Ipv4 + TCP + 데이터 : 프레임

여기서 나온 패킷은 실제로 말하는 패킷이랑은 다른 내용이다.

아래의 그림을 보면 각 PDU를 볼 수 있다.






